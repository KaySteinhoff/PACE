# PAText

## Struct
```C
struct PAText
{
	GLuint colorUniform;

	PAMaterial shader;

	GLfloat color[3];
	GLuint vao;

	PAFont *font;
	int fontSize;

	const char *text;
	int x, y;
	int width, height;
};
```

__Fields__
|Fieldname|Utility|
|---|---|
|colorUniform|The shader location of the color vector|
|<a href="PAMaterial.md">shader</a>|The PAMaterial instance acting as the text shader|
|color|A float array holding the text color|
|vao|The OpenGL ID generated by glGenVertexArrays|
|<a href="PAFont.md">font</a>|A pointer to the font that is to be used on render|
|fontSize|The font size. Currently the font renders all ASCII chars at a 100 pixels resolution and up-/downscales the created texture|
|text|The text that is to be rendered|
|x|The x location the text is to be rendered at. Is on the left side of the text|
|y|The y location the text is to be rendered at. Is on the top side of the text|
|width|The width of the string. Is only calculated on render, or when TextCalculateSize() is called|
|height|The height of the string. Is only calculated on render, or when TextCalculateSize() is called|

## Functions

### CreatePAText

```C
unsigned int CreatePAText(PAText *text, int x, int y, const char *txt, int fontSize, PAFont *font);
```

__Arguments__
|Name|Utility|
|---|---|
|text|A pointer to the text object that is to be initialized|
|x|The x position(in screenspace) the text is to be rendered at(left side)|
|y|The y position(in screenspace) the text is to be rendered at(top side)|
|txt|The text that is to be displayed|
|fontSize|The fontsize(in pixels) the text is to be displayed with|
|font|A pointer to the font that is to be used when rendering the text|

__Description__<br>
Initializes the text given the text value font size and font.<br>

__Example__<br>
```C
PAFont arial = { 0 };
unsigned int err = 0;
if((err = LoadFont(&arial, "arial.ttf")))
	return err;

PAText text = { 0 };
if((err = CreatePAText(&text, 0, 0, "Hello world!", 80, &arial)))
	return err;
```

### newText

```C
IPADraw newText(PAText *text);
```

__Arguments__
|Name|Utility|
|---|---|
|text|A pointer to the text object instance data|

__Description__
Creates a IPADraw object using the provided data pointer.

__Example__
```C
PAFont arial = { 0 };
unsigned int err = 0;
if((err = LoadFont(&arial, "arial.ttf")))
	return err;

PAText text = { 0 };
if((err = CreatePAText(&text, 0, 0, "Hello world!", 80, &arial)))
	return err;

IPADraw draw = newText(&text);
AddUiToScene(&activeScene, draw);
```

### TextDraw

```C
void TextDraw(void *raw_data, mat4x4 perspective);
```

__Arguments__
|Name|Utility|
|---|---|
|raw_data|A pointer to the object instance data|
|perspective|A mat4x4 configured to hold the perspective matrix used when rendering|

__Description__<br>
Renders the provided text object using the given perspective matrix.<br>
Is called automatically when invoking UpdatePACE().

__Example__
```C
PAFont arial = { 0 };
unsigned int err = 0;
if((err = LoadFont(&arial, "arial.ttf")))
	return err;

PAText text = { 0 };
if((err = CreatePAText(&text, 0, 0, "Hello world!", 80, &arial)))
	return err;

AddUiToScene(&activeScene, newText(&text));

unsigned int windowIsOpen = 1;
while(windowIsOpen)
{
	windowIsOpen = PollPACE();
	UpdatePACE(); // <-- TextDraw is being called here
}
```

### TextCalculateSize

```C
void TextCalculateSize(void *raw_data);
```

__Arguments__
|Name|Utility|
|---|---|
|raw_data|A pointer to the object instance data|

__Description__
Measures the size(in screenspace) of the provided text instance.<br>
Is being called automatically when invoking UpdarePACE().

__Example__
```C
PAFont arial = { 0 };
unsigned int err = 0;
if((err = LoadFont(&arial, "arial.ttf")))
	return err;

PAText text = { 0 };
if((err = CreatePAText(&text, 0, 0, "Hello world!", 80, &arial)))
	return err;

AddUIToScene(&activeScene, newText(&text));

// Center the text
TextCalculateSize(&text);
text.x = windowWidth/2-text.width/2;
text.y = windowHeight/2-text.height/2;

unsigned int windowIsOpen = 1;
while(windowIsOpen)
{
	windowIsOpen = PollPACE();
	UpdatePACE(); // <-- TextCalculateSize() is being called here
}
```
